import random
import json
import requests
from os import path

class OCR():
    def __init__(self):
        self.api = None
        self.url = r"https://api.ocr.space/parse/image"
        self.load_api()

    def load_api(self):
        # loading api key
        with open("./data/api.json", "r") as f:
            data = json.load(f)
            self.api = data["keys"][random.randrange(0, len(data["keys"]))]
    
    def extract_text(self, pdf_path):
        # # setting up meta data for request
        # headers = {"apikey": self.api}
        # payload = {"OCREngine": 2}
        # files = [('file', open(pdf_path, 'rb'))]
    
        # # getting data from api
        # response = requests.post(self.url, files=files, headers=headers, data=payload)
        # data = response.json()
        
        
        # # extracting text from data
        # stamp = []
        # for i, text in enumerate(data["ParsedResults"]):
        #     stamp.append((i, text["ParsedText"]))
        
        stamp = [(0, 'NINE BALL\nZACH BRYAN'), (1, 'NINE BALL\nZACH BRYAN'), (2, 'NINE BALL\nZACH BRYAN'), (3, 'NINE BALL\nZACH BRYAN'), (4, '13.\nTACH PRYA'), (5, ''), (6, ''), (7, ''), (8, ''), (9, ''), (10, ''), (11, ''), (12, ''), (13, ''), (14, ''), (15, "I DON'T WANNA BET, BUT MY FATHER WROTE\nA CHECK THAT I BET HIS COULD NEVER CASH"), (16, "I DON'T WANNA BET, BUT MY FATHER WROTE\nA CHECK THAT I BET HIS COULD NEVER CASH"), (17, "I DON'T WANNA BET, BUT MY FATHER WROTE\nA CHECK THAT I BET HIS COULD NEVER CASH"), (18, "I DON'T WANNA BET, BUT MY FATHER WROTE\nA CHECK THAT I BET HIS COULD NEVER CASH"), (19, "I DON'T WANNA BET, BUT MY FATHER WROTE\nA CHECK THAT I BET HIS COULD NEVER CASH"), (20, "I DON'T WANNA BET, BUT MY FATHER WROTE\nA CHECK THAT I BET HIS COULD NEVER CASH"), (21, ''), (22, "HE'S BETTIN' ON THE EIGHT BALL\nLANDING IN THE SIDE WALL"), (23, "HE'S BETTIN' ON THE EIGHT BALL\nLANDING IN THE SIDE WALL"), (24, "HE'S BETTIN' ON THE EIGHT BALL\nLANDING IN THE SIDE WALL"), (25, "HE'S BETTIN' ON THE EIGHT BALL\nLANDING IN THE SIDE WALL"), (26, 'COLD-BLOODED KILLER\nIF YOU ASK'), (27, 'COLD-BLOODED KILLER\nIF YOU ASK'), (28, 'COLD-BLOODED KILLER\nIF YOU ASK'), (29, 'BUT EVERY NIGHT. HE NEEDS ME TO LAND HIMSELF\nA RED THREE-CORNER POCKET AT 12 A.M.'), (30, 'BUT EVERY NIGHT, HE NEEDS ME TO LAND HIMSELF\nA RED THREE-CORNER POCKET AT 12 A.M.'), (31, 'BUT EVERY NIGHT, HE NEEDS ME TO LAND HIMSELF\nA RED THREE-CORNER POCKET AT 12 A.M.'), (32, 'BUT EVERY NIGHT, HE NEEDS ME TO LAND HIMSELF\nA RED THREE-CORNER POCKET AT 12 A.M.'), (33, 'BUT EVERY NIGHT, HE NEEDS ME TO LAND HIMSELF\nA RED THREE-CORNER POCKET AT 12 A.M.'), (34, 'BUT EVERY NIGHT, HE NEEDS ME TO LAND HIMSELF\nA RED THREE-CORNER POCKET AT 12 A.M.'), (35, ''), (36, 'ONLY TWELVE YEARS-OLD, BUT I GOT A HOLD\nOF. A POOL STICK I WAS GIFTED FROM HIM'), (37, 'ONLY TWELVE YEARS-OLD, BUT I GOT A HOLD\nOF A POOL STICK I WAS GIFTED FROM HIM'), (38, 'ONLY TWELVE YEARS-OLD, BUT I GOT A HOLD\nOF A POOL STICK I WAS GIFTED FROM HIM'), (39, 'ONLY TWELVE YEARS-OLD, BUT I GOT A HOLD\nOF A POOL STICK I WAS GIFTED FROM HIM'), (40, 'ONLY TWELVE YEARS-OLD, BUT I GOT A HOLD\nOF A POOL STICK I WAS GIFTED FROM HIM'), (41, 'ONLY TWELVE YEARS-OLD, BUT I GOT A HOLD\nOF A POOL STICK I WAS GIFTED FROM HIM'), (42, 'ONLY TWELVE YEARS-OLD. BUT I GOT A HOLD\nOF A POOL STICK I WAS GIFTED FROM HIM'), (43, "MY FATHER IS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (44, "MY FATHER IS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (45, "MY FATHER IS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (46, "MY FATHER IS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (47, "MY FATHER IS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (48, "MY FATHER IS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (49, "MY FATHER IS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (50, "HE'S SITTIN' IN THE CORNER\nWITH A SIX-PACK OF CORONA"), (51, "HE'S SITTIN' IN THE CORNER\nWITH A SIX-PACK OF CORONA"), (52, "HE'S SITTIN' IN THE CORNER\nWITH A SIX-PACK OF CORONA"), (53, "BETTIN' THAT HIS\nSON'LL WIN AGAIN"), (54, "BETTIN' THAT HIS\nSON'LL WIN AGAIN"), (55, "BETTIN' THAT HIS\nSON'LL WIN AGAIN"), (56, ''), (57, ''), (58, ''), (59, ''), (60, ''), (61, ''), (62, ''), (63, ''), (64, ''), (65, ''), (66, ''), (67, ''), (68, ''), (69, ''), (70, ''), (71, ''), (72, 'GO BET ANOTHER SIX-PACK\nBET I MAKE A COMEBACK'), (73, 'GO BET ANOTHER SIX-PACK\nBET I MAKE A COMEBACK'), (74, 'GO BET ANOTHER SIX-PACK\nBET I MAKE A COMEBACK'), (75, 'GO BET ANOTHER SIX-PACK\nBET I MAKE A COMEBAC'), (76, "COUNT ON THAT THIS TABLE'S GOT A LEAN\nWON'T YOU TAKE ME FISHING?"), (77, "COUNT ON THAT THIS TABLE'S GOT A LEAN\nWON'T YOU TAKE ME FISHING?"), (78, "COUNT ON THAT THIS TABLE'S GOT A LEAN\nWON'T YOU TAKE ME FISHING?"), (79, "COUNT ON THAT THIS TABLE'S GOT A LEAN\nWON'T YOU TAKE ME FISHING?"), (80, "COUNT ON THAT THIS TABLE'S GOT A LEAN\nWON'T YOU TAKE ME FISHING?"), (81, 'AND I WANT TO TRY OUT FOR\nTHE SEVENTH GRADE FOOTBALL TEAM'), (82, 'AND I WANT TO TRY OUT FOR\nTHE SEVENTH GRADE FOOTBALL TEAM'), (83, 'AND I WANT TO TRY OUT FOR\nTHE SEVENTH GRADE FOOTBALL TEAM'), (84, 'AND I WANT TO TRY OUT FOR\nTHE SEVENTH GRADE FOOTBALL TEAM'), (85, 'AND I WANT TO TRY OUT FOR\nTHE SEVENTH GRADE FOOTBALL TEAM'), (86, "YOU'LL PROBABLY\nBE NOTHIN'"), (87, "YOU'LL PROBABLY\nBE NOTHINÂ®"), (88, "BUT THIS TOWN'S OLD DRUNKARD\nAND DIE ON A SMOKE-STAINED STOOL"), (89, "BUT THIS TOWN'S OLD DRUNKARD\nAND DIE ON A SMOKE-STAINED STOOL"), (90, "BUT THIS TOWN'S OLD DRUNKARD\nAND DIE ON A SMOKE-STAINED STOOL"), (91, "BUT THIS TOWN'S OLD DRUNKARD\nAND DIE ON A SMOKE-STAINED STOOL"), (92, "BUT THIS TOWN'S OLD DRUNKARD\nAND DIE ON A SMOKE-STAINED STOOL"), (93, "BUT RIGHT NOW, HE'S GOT A BARGAIN\nTHAT HE'S TAKEN TOO FAR"), (94, "BUT RIGHT NOW, HE'S GOT A BARGAIN\nTHAT HE'S TAKEN TOO FAR"), (95, "BUT RIGHT NOW, HE'S GOT A BARGAIN\nTHAT HE'S TAKEN TOO FAR"), (96, "BUT RIGHT NOW, HE'S GOT A BARGAIN\nTHAT HE'S TAKEN TOO FAR"), (97, "ON HIS BOY'S GAME OF\nNINE-BALL POOL"), (98, "ON HIS BOY'S GAME OF\nNINE-BALL POOL"), (99, "ON HIS BOY'S GAME OF\nNINE-BALL POOL"), (100, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (101, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (102, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (103, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (104, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (105, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (106, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (107, "HE'S SITTIN' IN THE CORNER\nWITH A SIX-PACK OF CORONA"), (108, "HE'S SITTIN' IN THE CORNER\nWITH A SIX-PACK OF CORONA"), (109, "HE'S SITTIN' IN THE CORNER\nWITH A SIX-PACK OF CORONA"), (110, "BETTIN' THAT HIS SON'LL WIN AGAIN\nMY FATHER WAS A BETTIN' MAN"), (111, "BETTIN' THAT HIS SON'LL WIN AGAIN\nMY FATHER WAS A BETTIN' MAN"), (112, "BETTIN' THAT HIS SON'LL WIN AGAIN\nMY FATHER WAS A BETTIN' MAN"), (113, "BETTIN' THAT HIS SON'LL WIN AGAIN\nMY FATHER WAS A BETTIN' MAN"), (114, "BETTIN' THAT HIS SON'LL WIN AGAIN\nMY FATHER WAS A BETTIN' MAN"), (115, "BETTIN' THAT HIS SON'LL WIN AGAIN\nMY FATHER WAS A BETTIN' MAN"), (116, "BETTIN' THAT HIS SON'LL WIN AGAIN\nMY FATHER WAS A BETTIN' MAN"), (117, "BETTIN THAT HIS SON'LL WIN AGAIN\nMY FATHER WAS A BETTIN MAN"), (118, ''), (119, ''), (120, ''), (121, ''), (122, ''), (123, ''), (124, ''), (125, ''), (126, ''), (127, ''), (128, ''), (129, ''), (130, ''), (131, ''), (132, ''), (133, ''), (134, ''), (135, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (136, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (137, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (138, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (139, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (140, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (141, "MY FATHER WAS A BETTIN' MAN\nBUT I GOT MYSELF A STEADY HAND"), (142, ''), (143, "HE'S SITTIN' IN THE CORNER\nWITH A SIX PACK OF CORONA"), (144, "HE'S SITTIN' IN THE CORNER\nWITH A SIX PACK OF CORONA"), (145, 'HE\'S SITTIN" IN THE CORNER\nWITH A SIX PACK OF CORONA'), (146, "BETTIN' THAT HIS\nSON'LL WIN AGAIN"), (147, "BETTIN' THAT HIS\nSON'LL WIN AGAIN"), (148, "BETTIN' THAT HIS\nSON'LL WIN AGAIN"), (149, ''), (150, ''), (151, "I DON'T WANNA BET, BUT MY DADDY WROTE A\nCHECK THAT I BET HIS COULD NEVER CASH"), (152, "I DON'T WANNA BET, BUT MY DADDY WROTE A\nCHECK THAT I BET HIS COULD NEVER CASH"), (153, "I DON'T WANNA BET, BUT MY DADDY WROTE A\nCHECK THAT I BET HIS COULD NEVER CASH"), (154, "I DON'T WANNA BET, BUT MY DADDY WROTE A\nCHECK THAT I BET HIS COULD NEVER CASH"), (155, "I DON'T WANNA BET, BUT MY DADDY WROTE A\nCHECK THAT I BET HIS COULD NEVER CASH"), (156, "I DON'T WANNA BET, BUT MY DADDY WROTE A\nCHECK THAT I BET HIS COULD NEVER CASH"), (157, ''), (158, "HE'S BETTIN' ON THE EIGHT BALL\nLANDING IN THE SIDE WALL"), (159, "HE'S BETTIN' ON THE EIGHT BALL\nLANDING IN THE SIDE WALL"), (160, "HE'S BETTIN' ON THE EIGHT BALL\nLANDING IN THE SIDE WALL"), (161, 'OLD-BLOODED KILLE\nIF YOU ASK'), (162, 'COLD-BLOODED KILLER\nIF YOU ASK'), (163, 'COLD-BLOODED KILLER\nIF YOU ASK'), (164, 'COLD-BLOODED KILLER\nIF YOU ASK'), (165, ''), (166, ''), (167, ''), (168, ''), (169, ''), (170, '')]
        return stamp